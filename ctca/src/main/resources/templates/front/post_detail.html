<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Bài Đăng - CTCA</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS==================================================-->
    <link rel="stylesheet" th:href="@{/resources/front/plugins/css/plugins.css}">
    <link th:href="@{/resources/front/css/style.css}" rel="stylesheet">
    <link type="text/css" rel="stylesheet" id="jssDefault" th:href="@{/resources/front/css/colors/green-style.css}"> <style>
    .img-popup {
        position: fixed;
        top: 0; left:0;
        background : rgba(0, 0, 0, .9);
        height: 100%;
        width: 100%;
        z-index: 100;
    }
    .img-popup span {
        position: absolute;
        top: 15%;
        right: 26%;
        font-size: 40px;
        font-weight: bold;
        color: #fff;
        cursor: pointer;
    }
    .img-popup img {
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 500px;
        height: 450px;
        object-fit: contain;
        background: #fff;
    }
</style>
</head>
<body>
<div th:replace="~{fragments/front/header :: header}"></div>
<div class="Loader"></div>
<div class="wrapper">
    <div class="clearfix"></div>

    <!-- Title Header Start -->
    <section class="inner-header-title" th:style="'background-image: url(\'' + @{/resources/front/img/banner_4.jpg} + '\');'">
        <div class="container">
            <h1>Bài Đăng</h1>
        </div>
    </section>
    <div class="clearfix"></div>
    <!-- Title Header End -->

    <div class="img-popup" id="img-popup">
        <span id="img-close">&times;</span>
        <img th:src="@{${postDTO.image}}" class="img-popup" alt=""/>
    </div>
    <!-- Candidate Profile Start -->
    <section class="detail-desc advance-detail-pr gray-bg">
        <div class="container white-shadow">

            <div class="row">
                <div class="detail-pic" style="width: 250px; margin:10px auto; height:250px;
                                max-width: 250px; border-radius: 10%; margin: 0px auto;padding: 0;">
                    <img th:src="@{${postDTO.image}}" class="img" id="img" alt=""
                         style="width: 250px; margin:10px auto; height:250px; padding: 0;
                                max-width: 250px; border-radius: 10%; margin: 0px auto; object-fit: contain"/>
                </div>
                <div class="detail-status"><span>Active Now</span></div>
            </div>

            <div class="row bottom-mrg">
                <div class="col-md-12 col-sm-12">
                    <div class="advance-detail detail-desc-caption">
                        <h4 th:text="${postDTO.name}">Tiêu Đề</h4>
                        <span class="designation" th:text="${'#ID' + postDTO.id}">Mã ID</span>
                    </div>
                </div>
            </div>

            <div class="row no-padd">
                <div class="detail pannel-footer">
                    <div class="col-md-5 col-sm-5">
                        <ul class="detail-footer-social">
                            <li><a class="facebook" target="blank"><i class="fa fa-facebook"></i></a></li>
                            <li><a class="twitter" target="blank"><i class="fa fa-twitter"></i></a></li>
                            <li><a class="linkedin" target="blank"><i class="fa fa-linkedin"></i></a></li>
                        </ul>
                    </div>
                    <div class="col-md-7 col-sm-7">
                        <div class="detail-pannel-footer-btn pull-right">
                            <a th:href="@{'/comment/form/' + ${postDTO.id}}" class="footer-btn grn-btn" title="">Nhắn tin</a>
                            <a th:if="${isOwner == true}" type="button" th:href="@{'/post/form/complete/' +${postDTO.id}}" class="footer-btn blu-btn" title="">Hoàn Thành</a>
                            <a th:if="${isOwner == true}" type="button" th:href="@{'/post/form/cancel/' +${postDTO.id}}" class="footer-btn btn btn-danger" title="">Hủy Bài</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Candidate Profile Start -->
    <section class="full-detail-description full-detail gray-bg">
        <div class="container">
            <div class="col-md-12 col-sm-12" th:action="@{/back/post/postName}"
                 th:object="${postDTO}">
                <div class="full-card">
                    <div class="deatil-tab-employ tool-tab">
                        <ul class="nav simple nav-tabs" id="simple-design-tab">
                            <li class="active"><a href="#about">Nội Dung</a></li>
                            <li><a href="#messages">Trao Đổi</a></li>
                        </ul>

                        <!-- Start All Sec -->
                        <div class="tab-content">
                            <div id="about" class="tab-pane fade in active">
                                <h3>Nội Dung</h3>

                                <ul class="job-detail-des">
                                    <li><span>Tác Giả:</span> <a th:text="${ownerDTO?.fullName}"></a></li>
                                    <li><span>Ghi Chú:</span> <a th:text="${postDTO.note}"></a></li>
                                </ul>

                                <p th:utext="${postDTO.description}" style="word-wrap: break-word;"></p>
                            </div>
                            <!-- End About Sec -->

                            <!-- Start Message -->
                            <div id="messages" class="tab-pane fade">
                                <h3>Trao Đổi</h3>

                                <div class="inbox-body inbox-widget">
                                    <div class="mail-card" th:each="item : ${commentListDTO}">
                                        <header class="card-header cursor-pointer collapsed" data-toggle="collapse" th:attr="data-target='#full-message'+ ${item.id}" aria-expanded="false">
                                            <div class="card-title flexbox">
                                                <img class="img-responsive img-circle avatar" th:src="@{/resources/front/img/user.png}" alt="...">
                                                <div>
                                                    <h6 th:text="${item.accountDTO.fullName}">FullName</h6>
                                                    <small th:text="${item.date}">Date</small>
                                                    <small><a class="text-info collapsed" th:href="@{'#detail-view' + ${item.id}}" data-toggle="collapse" aria-expanded="false">Chi Tiết</a></small>

                                                    <div class="no-collapsing cursor-text collapse" th:id="${'detail-view' + item.id}" aria-expanded="false" style="height: 0px;">
                                                        <small class="d-inline-block">From:</small>
                                                        <small th:text="${item.accountDTO.email}">theadmin@thetheme.io</small>
                                                        <br>
                                                        <small class="d-inline-block">To:</small>
                                                        <small th:text="${item.post.ownerDTO.email}">subscriber@yahoo.com</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </header>
                                        <div class="collapse" th:id="'full-message'+ ${item.id}" aria-expanded="false" style="height: 0px;">
                                            <div class="card-body">
                                                <p th:text="${item.content}" style="overflow-wrap: break-word;"></p>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <!-- End Message -->

                        </div>
                        <!-- Start All Sec -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Candidate Profile End -->

    <!-- Footer Section Start -->

    <div class="clearfix"></div>
    <div th:replace="~{fragments/front/footer :: footer}"></div>
    <!-- Footer Section End -->

    <!-- Scripts
    ================================================== -->
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/viewportchecker.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/bootstrap.min.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/bootsnav.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/select2.min.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/wysihtml5-0.3.0.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/bootstrap-wysihtml5.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/datedropper.min.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/dropzone.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/loader.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/owl.carousel.min.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/slick.min.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/gmap3.min.js}"></script>
    <script type="text/javascript" th:src="@{/resources/front/plugins/js/jquery.easy-autocomplete.min.js}"></script>
    <!-- Custom Js -->
    <script th:src="@{/resources/front/js/custom.js}"></script>
    <script th:src="@{/resources/front/js/jQuery.style.switcher.js}"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#styleOptions').styleSwitcher();
        });
    </script>
    <script>
        function openRightMenu() {
            document.getElementById("rightMenu").style.display = "block";
        }

        function closeRightMenu() {
            document.getElementById("rightMenu").style.display = "none";
        }
    </script>

    <script>
        $(document).ready(function() {
            $('#img-popup').hide();
            $('#img').on("click", function () {
                $('#img-popup').show();
            })
            $('#img-close').on("click", function () {
                $('#img-popup').hide();
             })
            $('#img-popup').on("click", function () {
                $('#img-popup').hide();
            })
        });
    </script>
    <script>
        const hosturl = window.location.href;
        const link = encodeURI(hosturl);
        const msg = encodeURIComponent(document.title);
        const title = encodeURIComponent(document.title);
        const fb = document.querySelector('.facebook');
        fb.href = `https://www.facebook.com/share.php?u=${link}`;
        const twitter = document.querySelector('.twitter');
        twitter.href = `http://twitter.com/share?&url=${link}&text=${msg}&hashtags=javascript,programming`;
        const linkedIn = document.querySelector('.linkedin');
        linkedIn.href = `https://www.linkedin.com/sharing/share-offsite/?url=${link}`;
    </script>
</div>
</body>
</html>